{% extends 'base.html' %}

{% load static %}

{% block title %}PengBeats | Survey{% endblock %}

{% block content %}
{% if messages %}
    {% for message in messages %}
        <div class="alert alert-info alert-dismissible fade show" role="alert">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    {% endfor %}
{% endif %}

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<center>
<h1 style="font-size: 400%;">Survey</h1>
</center>
<br>
<!-- Survey Created by James, Kevin and Alex -->
<div class="center" style="font-size: 110%; color: #f5f7fa;">
  <p id="question"></p>
  <form action id = "multiple_choice_form" >
    <div class = "form-check">
      <input class="form-check-input" type="radio" name="Form1" id="i1" checked value = 1>
      <label class="form-check-label" for="i1" id="option0"></label>
    </div>
    <div class="form-check">
      <input class="form-check-input" type="radio" name="Form1" id="i2" value = 2>
      <label class="form-check-label" for="i2" id ="option1"></label>
    </div>
    <div class="form-check">
      <input class="form-check-input" type="radio" name="Form1" id="i3" value = 3>
      <label class="form-check-label" for="i3" id="option2"></label>
    </div>
    <div class="form-check">
      <input class="form-check-input" type="radio" name="Form1" id="i4" value = 4>
      <label class="form-check-label" for="i4" id="option3"></label>
    </div>
    <div class="form-check">
      <input class="form-check-input" type="radio" name="Form1" id="i5" value = 5 >
      <label class="form-check-label" for="i5" id="option4"></label>
      <script type ="text/javascript" src="{% static 'js/question.js' %}"></script>
      <script>
        $(document).ready(function() {
          $("#submit").click(function(){
              let answer_value = document.querySelector('input[name="Form1"]:checked').value;
              increment_and_reload(answer_value);
            console.log(document.getElementById("danceability").value);
            console.log(document.getElementById("acousticness").value);
            console.log(document.getElementById("energy").value);
            console.log(document.getElementById("instrumentalness").value);
            console.log(document.getElementById("speechiness").value);
            console.log(document.getElementById("loudness").value);
            console.log(document.getElementById("tempo").value);
            console.log(document.getElementById("valence").value);
          })
        })
        $(document).ready(function() {
          $("#multiple_choice_form").click(function(){
            
              
          })
        })
      </script>
    </div>
    <br>
    <div style="margin-left: 10%;">
      <button type="button" id = "submit" class="btn btn-success" style="height: 50px; width: 110px">Submit</button>
    </div>
    <input type="hidden"  step ="1" id = "danceability" name = "user" value= 0>
    <input type="hidden"  step ="1" id = "acousticness" name = "user" value= 0>
    <input type="hidden"  step ="1" id = "energy" name = "user" value= 0>
    <input type="hidden"  step ="1" id = "instrumentalness" name = "user" value= 0>
    <input type="hidden" step ="1" id = "speechiness" name = "user" value= 0>
    <input type="hidden" step ="1" id = "loudness" name = "user" value= 0>
    <input type="hidden" step ="1" id = "tempo" name = "user" value= 0>
    <input type="hidden" step ="1" id = "valence" name = "user" value= 0>
  </form>
</div>
{% if artist_id %}
<div id="artistCarousel" class="carousel slide" data-bs-interval="false">
  <div class="carousel-inner">
    <div class="carousel-item active">
      <div class="table">
          <table class="table">
              <tbody>
                  <tr>
                  {% for artist in artists_id %}
      
                      <td>
                          <div class='embed-container'>
                              <iframe src='https://open.spotify.com/embed/artist/{{ artist }}'  frameborder='0' allowtransparency='true' allow='encrypted-media'></iframe>                                
                          </div>
                      </td>
      
                  {% endfor %}
                  </tr>
              </tbody>
          </table>
      </div>
    </div>
  </div>
  <button class="carousel-control-prev" type="button" data-bs-target="#artistCarousel"  data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#artistCarousel"  data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>
</div>
{% endif %}
</div>

{% endblock %}
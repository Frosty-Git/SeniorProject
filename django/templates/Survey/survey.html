{% extends 'base.html' %}

{% load static %}

{% block title %}PengBeats | Survey{% endblock %}

{% block content %}
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<center>
<h3>Survey</h3>
</center>
<br>
<!-- Survey Created by James, Kevin and Alex -->
<div>
  <p id="question"></p>
<form action id = "multiple_choice_form" >
  <div class = "form-check">
    <input class="form-check-input" type="radio" name="Form1"  checked value = 1>
    <label class="form-check-label" for="option0" id="option0"></label>
  </div>
  <div class="form-check">
    <input class="form-check-input" type="radio" name="Form1"  value = 2>
    <label class="form-check-label" for="option1" id ="option1"></label>
  </div>
  <div class="form-check">
    <input class="form-check-input" type="radio" name="Form1" value = 3>
    <label class="form-check-label" for="option2" id="option2"></label>
  </div>
  <div class="form-check">
    <input class="form-check-input" type="radio" name="Form1" value = 4>
    <label class="form-check-label" for="option3" id="option3"></label>
  </div>
    <div class="form-check">
      <input class="form-check-input" type="radio" name="Form1" value = 5 >
      <label class="form-check-label" for="option4" id="option4">
        
</label>
<script type ="text/javascript" src="{% static 'js/question.js' %}">
</script>
<script>
 $(document).ready(function() {
   $("#submit").click(function(){
      let answer_value = document.querySelector('input[name="Form1"]:checked').value;
      increment_and_reload(answer_value);

   })
 })
 $(document).ready(function() {
   $("#multiple_choice_form").click(function(){
    
      
      })
   })
 
</script>
  </div>
</div>
<button type="button"  id = "submit" class="btn btn-success" >Submit</button>
<input type="hidden" id = "danceability" name = "user" value="data_to_submit">
<input type="hidden" id = "acousticness" name = "user" value="data_to_submit">
<input type="hidden" id = "energy" name = "user" value="data_to_submit">
<input type="hidden" id = "instrumentalness" name = "user" value="data_to_submit">
<input type="hidden" id = "speechiness" name = "user" value="data_to_submit">
<input type="hidden" id = "loudness" name = "user" value="data_to_submit">
<input type="hidden" id = "tempo" name = "user" value="data_to_submit">
<input type="hidden" id = "valence" name = "user" value="data_to_submit">
</form>
{% if artist_id %}
<div id="artistCarousel" class="carousel slide" data-bs-interval="false">
  <div class="carousel-inner">
    <div class="carousel-item active">
      <div class="table">
          <table class="table">
              <tbody>
                  <tr>
                  {% for artist in artists_id %}
      
                      <td>
                          <div class='embed-container'>
                              <iframe src='https://open.spotify.com/embed/artist/{{ artist }}'  frameborder='0' allowtransparency='true' allow='encrypted-media'></iframe>                                
                          </div>
                      </td>
      
                  {% endfor %}
                  </tr>
              </tbody>
          </table>
      </div>
    </div>
  </div>
  <button class="carousel-control-prev" type="button" data-bs-target="#artistCarousel"  data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#artistCarousel"  data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>
</div>
{% endif %}
</div>

{% endblock %}